{
  "pv": {
    "name": "Ollama Architecture",
    "version": "1.0.0",
    "description": "Complete Ollama LLM platform architecture with all major components"
  },
  "nodes": [
    {
      "id": "client",
      "type": "text",
      "x": 101,
      "y": -121,
      "width": 120,
      "height": 60,
      "text": "**Client**\nExternal API clients",
      "pv": {
        "nodeType": "client",
        "shape": "rectangle",
        "icon": "Users",
        "fill": "#f87171"
      }
    },
    {
      "id": "main",
      "type": "text",
      "x": 261,
      "y": -158,
      "width": 120,
      "height": 60,
      "text": "**Main**\nApplication entry point",
      "pv": {
        "nodeType": "main",
        "shape": "rectangle",
        "icon": "Play",
        "fill": "#60a5fa"
      }
    },
    {
      "id": "cli",
      "type": "text",
      "x": 261,
      "y": -55,
      "width": 120,
      "height": 60,
      "text": "**CLI**\nCommand-line interface",
      "pv": {
        "nodeType": "cli",
        "shape": "rectangle",
        "icon": "Terminal",
        "fill": "#60a5fa"
      }
    },
    {
      "id": "api_server",
      "type": "text",
      "x": 147,
      "y": 39,
      "width": 140,
      "height": 60,
      "text": "**API Server**\nHTTP API server",
      "pv": {
        "nodeType": "api_server",
        "shape": "rectangle",
        "icon": "Server",
        "fill": "#3b82f6"
      }
    },
    {
      "id": "auth_service",
      "type": "text",
      "x": 341,
      "y": 154,
      "width": 140,
      "height": 60,
      "text": "**Auth Service**\nAuthentication",
      "pv": {
        "nodeType": "auth_service",
        "shape": "rectangle",
        "icon": "Shield",
        "fill": "#f87171"
      }
    },
    {
      "id": "scheduler",
      "type": "text",
      "x": -47,
      "y": 152,
      "width": 140,
      "height": 60,
      "text": "**Scheduler**\nResource allocation",
      "pv": {
        "nodeType": "scheduler",
        "shape": "rectangle",
        "icon": "Calendar",
        "fill": "#10b981"
      }
    },
    {
      "id": "model_manager",
      "type": "text",
      "x": 83,
      "y": 269,
      "width": 140,
      "height": 60,
      "text": "**Model Manager**\nModel manifests",
      "pv": {
        "nodeType": "model_manager",
        "shape": "rectangle",
        "icon": "Database",
        "fill": "#8b5cf6"
      }
    },
    {
      "id": "template_system",
      "type": "text",
      "x": 149,
      "y": 152,
      "width": 140,
      "height": 60,
      "text": "**Templates**\nChat formatting",
      "pv": {
        "nodeType": "template_system",
        "shape": "rectangle",
        "icon": "FileText",
        "fill": "#8b5cf6"
      }
    },
    {
      "id": "llm_server",
      "type": "text",
      "x": -87,
      "y": 268,
      "width": 140,
      "height": 60,
      "text": "**LLM Server**\nProcess management",
      "pv": {
        "nodeType": "llm_server",
        "shape": "rectangle",
        "icon": "Cpu",
        "fill": "#3b82f6"
      }
    },
    {
      "id": "runner",
      "type": "text",
      "x": -291,
      "y": 356,
      "width": 140,
      "height": 60,
      "text": "**Runner**\nModel execution",
      "pv": {
        "nodeType": "runner",
        "shape": "rectangle",
        "icon": "Zap",
        "fill": "#f59e0b"
      }
    },
    {
      "id": "model_layer",
      "type": "text",
      "x": -132,
      "y": 472,
      "width": 120,
      "height": 60,
      "text": "**Model Layer**\nArchitecture",
      "pv": {
        "nodeType": "model_layer",
        "shape": "rectangle",
        "icon": "Package",
        "fill": "#8b5cf6"
      }
    },
    {
      "id": "multimodal",
      "type": "text",
      "x": -46,
      "y": 577,
      "width": 144,
      "height": 60,
      "text": "**Multimodal**\nVision models",
      "pv": {
        "nodeType": "multimodal",
        "shape": "rectangle",
        "icon": "Image",
        "fill": "#60a5fa"
      }
    },
    {
      "id": "ml_backend",
      "type": "text",
      "x": -281,
      "y": 478,
      "width": 120,
      "height": 60,
      "text": "**ML Backend**\nAbstraction layer",
      "pv": {
        "nodeType": "ml_backend",
        "shape": "rectangle",
        "icon": "Layers",
        "fill": "#10b981"
      }
    },
    {
      "id": "ggml",
      "type": "text",
      "x": -217,
      "y": 615,
      "width": 120,
      "height": 60,
      "text": "**GGML**\nLibrary integration",
      "pv": {
        "nodeType": "ggml",
        "shape": "rectangle",
        "icon": "Box",
        "fill": "#3b82f6"
      }
    },
    {
      "id": "device_manager",
      "type": "text",
      "x": -374,
      "y": 618,
      "width": 120,
      "height": 60,
      "text": "**Device Manager**\nGPU/CPU detection",
      "pv": {
        "nodeType": "device_manager",
        "shape": "rectangle",
        "icon": "Monitor",
        "fill": "#f87171"
      }
    },
    {
      "id": "converter",
      "type": "text",
      "x": -2,
      "y": 379,
      "width": 132,
      "height": 60,
      "text": "**Converter**\nFormat conversion",
      "pv": {
        "nodeType": "converter",
        "shape": "rectangle",
        "icon": "RefreshCw",
        "fill": "#f59e0b"
      }
    },
    {
      "id": "registry",
      "type": "text",
      "x": 173,
      "y": 379,
      "width": 125,
      "height": 60,
      "text": "**Registry**\nModel registry",
      "pv": {
        "nodeType": "registry",
        "shape": "rectangle",
        "icon": "Globe",
        "fill": "#10b981"
      }
    },
    {
      "id": "huggingface",
      "type": "text",
      "x": 161,
      "y": 574,
      "width": 150,
      "height": 60,
      "text": "**HuggingFace**\nModel repository",
      "pv": {
        "nodeType": "huggingface",
        "shape": "rectangle",
        "icon": "Cloud",
        "fill": "#3b82f6"
      }
    },
    {
      "id": "blob_storage",
      "type": "text",
      "x": 336,
      "y": 378,
      "width": 120,
      "height": 60,
      "text": "**Blob Storage**\nLocal cache",
      "pv": {
        "nodeType": "blob_storage",
        "shape": "rectangle",
        "icon": "HardDrive",
        "fill": "#60a5fa"
      }
    },
    {
      "id": "kv_cache",
      "type": "text",
      "x": -437,
      "y": 480,
      "width": 120,
      "height": 60,
      "text": "**KV Cache**\nInference cache",
      "pv": {
        "nodeType": "kv_cache",
        "shape": "rectangle",
        "icon": "MemoryStick",
        "fill": "#f59e0b"
      }
    }
  ],
  "edges": [
    {
      "id": "e1",
      "fromNode": "client",
      "fromSide": "bottom",
      "toNode": "api_server",
      "toSide": "top",
      "label": "HTTP API",
      "pv": {
        "edgeType": "http_api",
        "style": "solid"
      }
    },
    {
      "id": "e2",
      "fromNode": "main",
      "fromSide": "bottom",
      "toNode": "cli",
      "toSide": "top",
      "pv": {
        "edgeType": "serve",
        "style": "solid"
      }
    },
    {
      "id": "e3",
      "fromNode": "cli",
      "fromSide": "bottom",
      "toNode": "api_server",
      "toSide": "top",
      "label": "serve",
      "pv": {
        "edgeType": "serve",
        "style": "solid"
      }
    },
    {
      "id": "e4",
      "fromNode": "api_server",
      "fromSide": "right",
      "toNode": "auth_service",
      "toSide": "top",
      "label": "auth",
      "pv": {
        "edgeType": "auth",
        "style": "dashed"
      }
    },
    {
      "id": "e5",
      "fromNode": "api_server",
      "fromSide": "left",
      "toNode": "scheduler",
      "toSide": "top",
      "pv": {
        "edgeType": "serve",
        "style": "solid"
      }
    },
    {
      "id": "e6",
      "fromNode": "api_server",
      "fromSide": "bottom",
      "toNode": "template_system",
      "toSide": "top",
      "label": "format",
      "pv": {
        "edgeType": "format",
        "style": "dashed"
      }
    },
    {
      "id": "e7",
      "fromNode": "scheduler",
      "fromSide": "right",
      "toNode": "model_manager",
      "toSide": "top",
      "pv": {
        "edgeType": "serve",
        "style": "solid"
      }
    },
    {
      "id": "e8",
      "fromNode": "scheduler",
      "fromSide": "bottom",
      "toNode": "llm_server",
      "toSide": "top",
      "pv": {
        "edgeType": "serve",
        "style": "solid"
      }
    },
    {
      "id": "e9",
      "fromNode": "model_manager",
      "fromSide": "right",
      "toNode": "blob_storage",
      "toSide": "top",
      "label": "store/load",
      "pv": {
        "edgeType": "store_load",
        "style": "solid"
      }
    },
    {
      "id": "e10",
      "fromNode": "model_manager",
      "fromSide": "bottom",
      "toNode": "converter",
      "toSide": "top",
      "label": "convert",
      "pv": {
        "edgeType": "convert",
        "style": "dashed"
      }
    },
    {
      "id": "e11",
      "fromNode": "model_manager",
      "fromSide": "bottom",
      "toNode": "registry",
      "toSide": "top",
      "label": "pull/push",
      "pv": {
        "edgeType": "pull_push",
        "style": "solid"
      }
    },
    {
      "id": "e14",
      "fromNode": "runner",
      "fromSide": "right",
      "toNode": "model_layer",
      "toSide": "top",
      "pv": {
        "edgeType": "serve",
        "style": "solid"
      }
    },
    {
      "id": "e15",
      "fromNode": "runner",
      "fromSide": "bottom",
      "toNode": "ml_backend",
      "toSide": "top",
      "pv": {
        "edgeType": "serve",
        "style": "solid"
      }
    },
    {
      "id": "edge-ml_backend-device_manager-1767810677613",
      "fromNode": "ml_backend",
      "toNode": "device_manager",
      "fromSide": "bottom",
      "toSide": "top",
      "pv": {
        "edgeType": "serve"
      }
    },
    {
      "id": "edge-ml_backend-ggml-1767810677613",
      "fromNode": "ml_backend",
      "toNode": "ggml",
      "fromSide": "bottom",
      "toSide": "top",
      "pv": {
        "edgeType": "serve"
      }
    },
    {
      "id": "edge-runner-kv_cache-1767810677613",
      "fromNode": "runner",
      "toNode": "kv_cache",
      "fromSide": "left",
      "toSide": "top",
      "pv": {
        "edgeType": "cache"
      }
    },
    {
      "id": "edge-llm_server-runner-1767810677613",
      "fromNode": "llm_server",
      "toNode": "runner",
      "fromSide": "left",
      "toSide": "top",
      "pv": {
        "edgeType": "serve"
      }
    },
    {
      "id": "edge-converter-huggingface-1767810677613",
      "fromNode": "converter",
      "toNode": "huggingface",
      "fromSide": "bottom",
      "toSide": "left",
      "pv": {
        "edgeType": "download"
      }
    },
    {
      "id": "edge-registry-huggingface-1767810677613",
      "fromNode": "registry",
      "toNode": "huggingface",
      "fromSide": "bottom",
      "toSide": "top",
      "pv": {
        "edgeType": "sync"
      }
    },
    {
      "id": "edge-model_layer-multimodal-1767812785009",
      "fromNode": "model_layer",
      "toNode": "multimodal",
      "fromSide": "right",
      "toSide": "top",
      "pv": {
        "edgeType": "serve"
      }
    }
  ]
}